# 5 章

入出力の効率化

- ブロッキング
- バッファリング
- キャッシング

ディスクの効率化
ディスクのスケジューリング
効率公平性
SSD の効率化

ディスク上のブロックと IO のブロックは単位が違うことがありえる(ディスク上では 1 ブロック 1KB、入出力は 100B 単位など)

# 6.6 ファイルシステムの内部構造

## UNIX のファイルシステム

ファイルのフラグメンテーション
ストレージ上のどこにどのファイルが置いてあるか、
i ノード...構造体、固定長
ファイルに関する情報(ファイル名以外)

実は UNIX ではディレクトリはファイルの一種
ディレクトリにも i ノード番号がある

ファイル削除時には i ノードを削除して、i ノードの配列の削除はしない

ハードリンクっていうシンボリックリンクみたいなやつがあるヨ
i ノードの中にリファレンスカウントという値があって、それが 0 になったら削除ができる

## windows のファイルシステム

windows では FAT(file allocation table)というものが使われる
UNIX ではファイルごとにどこに置かれているかを管理していたが、windows ではディレクトリごと管理する
FAT ではデータ領域にノード番号が一対一対応する

windows...ディレクトリ側にファイル名、先頭のブロック番号などを持つ(どこから置かれているかを記録)

# 7.2 プロセスの実現

1. コンテキスト

プロセス制御ブロック
実行中プロセスポインタ
レディキュー
待ちキュー <- 待ち要因ごとにある(セマフォ用、IO 用など)
